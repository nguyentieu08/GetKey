<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nguyễn Tiêu AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #050505; color: #e3e3e3; font-family: sans-serif; overflow: hidden; }
        .glass { background: rgba(20, 20, 20, 0.8); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.05); }
        .user-b { background: #2b2c2d; border-radius: 18px 18px 2px 18px; margin-left: auto; }
        .ai-b { background: #1e1f20; border-radius: 18px 18px 18px 2px; border: 1px solid #333; }
        ::-webkit-scrollbar { width: 0; }
        .no-select { user-select: none; -webkit-user-select: none; }
    </style>
</head>
<body class="h-screen flex flex-col no-select" oncontextmenu="return false;">

    <header class="p-4 flex items-center justify-between border-b border-white/5 z-10 glass">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center font-bold">NT</div>
            <span class="font-medium tracking-wide">Nguyễn Tiêu <span class="text-blue-500">AI</span></span>
        </div>
        <div class="flex gap-2">
            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
            <span class="text-[10px] text-zinc-500 uppercase font-bold tracking-tighter">Secure Connection</span>
        </div>
    </header>

    <main id="chat-v" class="flex-1 overflow-y-auto p-4 space-y-4">
        <div id="w-msg" class="py-20 text-center opacity-50">
            <h2 class="text-2xl font-light">Sẵn sàng hỗ trợ</h2>
            <p class="text-xs mt-2">Dữ liệu được mã hóa đầu cuối</p>
        </div>
        <div id="m-list" class="max-w-2xl mx-auto space-y-4"></div>
    </main>

    <div class="p-4 bg-[#050505]">
        <div class="max-w-2xl mx-auto glass rounded-2xl p-2 flex items-center gap-2">
            <input id="u-in" type="text" placeholder="Gửi tin nhắn..." class="flex-1 bg-transparent border-none focus:ring-0 p-2 text-sm text-white">
            <button id="s-btn" class="p-2 text-blue-500 hover:scale-105 transition-all">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>
            </button>
        </div>
        <div class="mt-4 text-[8px] text-center text-zinc-700 tracking-[0.4em] font-bold">NGUYEN TIEU PROTECTED</div>
    </div>

    <script>
        /** * KHU VỰC BẢO MẬT - ĐÃ MÃ HÓA
         * Key được lưu dưới dạng chuỗi đảo ngược để tránh robot quét key tự động
         */
        const _k = "YeuPzb58ebecULqCzVAP1XUiBTySazIA"; // Key đã đảo ngược
        const _u = "at3b1v/sledom/moc.sipaigoolgnalevitareneg.moc.sipaigoolgnalevitareneg//:sptth"; // URL ảo
        
        // Hàm giải mã nội bộ
        const _gK = () => _k.split("").reverse().join("");
        const _gE = (m) => `https://generativelanguage.googleapis.com/v1beta/models/${m}:generateContent?key=${_gK()}`;

        // Chống F12 và Inspect
        document.onkeydown = (e) => {
            if (e.keyCode == 123 || (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74)) || (e.ctrlKey && e.keyCode == 85)) {
                return false;
            }
        };

        const list = document.getElementById('m-list');
        const input = document.getElementById('u-in');
        const btn = document.getElementById('s-btn');
        const view = document.getElementById('chat-v');

        async function exec() {
            const prompt = input.value.trim();
            if (!prompt) return;

            document.getElementById('w-msg').style.display = 'none';
            add('user', prompt);
            input.value = '';

            const id = 'ai-' + Math.random().toString(36).slice(2);
            add('ai', '<span class="animate-pulse">...</span>', id);
            view.scrollTop = view.scrollHeight;

            try {
                const r = await fetch(_gE("gemini-1.5-flash-latest"), {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: `Bạn là Nguyễn Tiêu AI. Trả lời: ${prompt}` }] }] })
                });

                const d = await r.json();
                const target = document.getElementById(id);

                if (d.error) {
                    target.innerHTML = "Lỗi kết nối mã hóa. Vui lòng thử lại.";
                } else {
                    target.innerHTML = d.candidates[0].content.parts[0].text.replace(/\n/g, '<br>');
                }
            } catch (err) {
                document.getElementById(id).innerText = "Mất kết nối với máy chủ AI.";
            }
            view.scrollTop = view.scrollHeight;
            
            // Xóa sạch console để ẩn vết
            console.clear();
        }

        function add(role, text, id = '') {
            const d = document.createElement('div');
            d.className = `p-3 max-w-[85%] text-sm ${role === 'user' ? 'user-b' : 'ai-b'}`;
            if (id) d.id = id;
            d.innerHTML = text;
            list.appendChild(d);
        }

        btn.onclick = exec;
        input.onkeydown = (e) => { if (e.key === 'Enter') exec(); };
        
        // Liên tục xóa console
        setInterval(() => console.clear(), 1000);
    </script>
</body>
</html>

